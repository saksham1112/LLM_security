<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Laminar v4.0 - Secure Uncensored AI</title>
    <link rel="stylesheet" href="/static/styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>

<body>
    <div class="app-container">
        <!-- Header -->
        <header class="header">
            <div class="header-content">
                <div class="logo">
                    <span class="logo-icon">üåä</span>
                    <h1>Laminar <span class="version">v4.0</span></h1>
                </div>
                <div class="header-right">
                    <div class="session-info">
                        <span class="session-label">Session:</span>
                        <span id="session-id" class="session-value">-</span>
                    </div>
                    <button id="reset-btn" class="btn-reset" title="Reset Session">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                            stroke-width="2">
                            <path d="M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8" />
                            <path d="M21 3v5h-5" />
                            <path d="M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16" />
                            <path d="M3 21v-5h5" />
                        </svg>
                    </button>
                </div>
            </div>
        </header>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Risk Dashboard -->
            <aside class="risk-dashboard">
                <h2>üõ°Ô∏è Safety Monitor</h2>

                <div class="risk-gauge">
                    <div class="gauge-label">Risk Score</div>
                    <div class="gauge-container">
                        <div id="risk-bar" class="gauge-fill" style="width: 0%"></div>
                    </div>
                    <div class="gauge-value">
                        <span id="risk-score">0.00</span>
                        <span id="risk-zone" class="zone-badge zone-green">GREEN</span>
                    </div>
                </div>

                <div class="risk-components">
                    <h3>Risk Components</h3>
                    <div class="component">
                        <span class="component-label">Adaptive (L1)</span>
                        <div class="component-bar">
                            <div id="bar-adaptive" class="bar-fill" style="width: 0%"></div>
                        </div>
                        <span id="val-adaptive" class="component-value">0.00</span>
                    </div>
                    <div class="component">
                        <span class="component-label">Short-Term (L2)</span>
                        <div class="component-bar">
                            <div id="bar-short" class="bar-fill" style="width: 0%"></div>
                        </div>
                        <span id="val-short" class="component-value">0.00</span>
                    </div>
                    <div class="component">
                        <span class="component-label">Long-Term (L3)</span>
                        <div class="component-bar">
                            <div id="bar-long" class="bar-fill" style="width: 0%"></div>
                        </div>
                        <span id="val-long" class="component-value">0.00</span>
                    </div>
                    <div class="component">
                        <span class="component-label">Semantic (L4)</span>
                        <div class="component-bar">
                            <div id="bar-semantic" class="bar-fill" style="width: 0%"></div>
                        </div>
                        <span id="val-semantic" class="component-value">0.00</span>
                    </div>
                </div>

                <div class="stats">
                    <h3>Session Stats</h3>
                    <div class="stat-row">
                        <span>Messages:</span>
                        <span id="stat-messages">0</span>
                    </div>
                    <div class="stat-row">
                        <span>Blocked:</span>
                        <span id="stat-blocked">0</span>
                    </div>
                    <div class="stat-row">
                        <span>Steered:</span>
                        <span id="stat-steered">0</span>
                    </div>
                    <div class="stat-row">
                        <span>Avg Latency:</span>
                        <span id="stat-latency">0ms</span>
                    </div>
                </div>
            </aside>

            <!-- Chat Container -->
            <section class="chat-section">
                <div id="chat-messages" class="chat-messages">
                    <div class="welcome-message">
                        <div class="welcome-icon">üê¨</div>
                        <h2>Welcome to Laminar v4.0</h2>
                        <p>I'm Dolphin, an uncensored AI assistant protected by the Advanced Laminar Risk Calculus
                            (ALRC) safety system.</p>
                        <ul class="features">
                            <li>üü¢ <strong>Green Zone:</strong> Safe queries get full responses</li>
                            <li>üü° <strong>Yellow Zone:</strong> Borderline queries get steered responses</li>
                            <li>üî¥ <strong>Red Zone:</strong> Harmful queries are blocked</li>
                        </ul>
                        <p class="disclaimer">The safety dashboard shows real-time risk analysis for each message.</p>
                    </div>
                </div>

                <form id="chat-form" class="chat-form">
                    <div class="input-container">
                        <textarea id="message-input" placeholder="Type your message..." rows="1" autofocus></textarea>
                        <button type="submit" id="send-btn" class="btn-send">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                stroke-width="2">
                                <path d="M22 2 11 13" />
                                <path d="M22 2 15 22 11 13 2 9 22 2z" />
                            </svg>
                        </button>
                    </div>
                    <div class="input-footer">
                        <span id="latency-display" class="latency">Ready</span>
                        <span class="powered-by">Powered by ALRC v4.0</span>
                    </div>
                </form>
            </section>
        </main>
    </div>

    <script src="/static/app.js"></script>
</body>

</html>